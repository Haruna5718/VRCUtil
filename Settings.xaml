<Page path="settings" icon="" name="Settings" title="Settings" state="{vrcutil.hasUpdate}">
    <Box>
        <Horizontal>
            <Text> App theme</Text>
            <Space />
            <Select value="system.theme">
                <Option value="dark"> Dark</Option>
                <Option value="light"> Light</Option>
                <Option value="system"> Use system setting</Option>
            </Select>
        </Horizontal>
    </Box>
    <Box>
        <Horizontal gap="10px">
            <Text> Auto start</Text>
            <Space />
            <Match value="settings.autoStart">
				<Case value="0" />
				<Case>
                    <Check value="settings.startMinimized" align="left">Minimize</Check>
				</Case>
			</Match>
            <Select value="settings.autoStart">
                <Option value="0"> Disable Auto start</Option>
                <Option value="1"> Start with SteamVR</Option>
                <Option value="2"> Start with VRChat</Option>
                <Option value="3"> Start with System</Option>
            </Select>
        </Horizontal>
    </Box>
    <Box>
        <Horizontal>
            <Text> OSC config</Text>
            <Space />
            <Vertical gap="0" align="left">
                <Text type="description">Address</Text>
                <Input value="settings.osc.address" width="115px">Address</Input>
            </Vertical>
            <Vertical gap="0" align="left">
                <Text type="description">Send</Text>
                <Input value="settings.osc.send" width="115px" type="number" min="0" max="65535">Port</Input>
            </Vertical>
            <Vertical gap="0" align="left">
                <Text type="description">Receive</Text>
                <Input value="settings.osc.receive" width="115px" type="number" min="0" max="65535">Port</Input>
            </Vertical>
        </Horizontal>
    </Box>
    <Expender>
        <Header>
            <Horizontal>
                <Text> Modules</Text>
                <Space />
                <Text type="description">{vrcutil.moduleCount} Modules loaded</Text>
            </Horizontal>
        </Header>
        <Content>
            <Repeat data="vrcutil.module">
                <Box>
                    <Horizontal>
                        <Vertical gap="0" align="left">
                            <Horizontal>
                                <Text>{1}</Text>
                                <Text type="description">{2}</Text>
                            </Horizontal>
                            <Text type="description">{3}</Text>
                        </Vertical>
                        <Space />
                        <Repeat raw="{4}">
                            <Button></Button>
                        </Repeat>
                        <Switch value="vrcutil.module.toggle.{0}" on="Enable" off="Disable"/>
                        <Button value="vrcutil.module.remove.{0}">Remove</Button>
                    </Horizontal>
                </Box>
            </Repeat>
        </Content>
    </Expender>
    <Box>
        <Horizontal>
            <Text> Check update</Text>
            <Space />
            <Vertical gap="0" align="right">
                <Text type="description">Current:</Text>
                <Text type="description">Latest:</Text>
            </Vertical>
            <Vertical gap="0" align="left">
                <Text type="description">{vrcutil.version}</Text>
                <Text type="description">{vrcutil.latest}</Text>
            </Vertical>
            <Switch value="settings.checkUpdate"/>
        </Horizontal>
    </Box>
    <!-- <Box>
        <Horizontal>
            <Text> Debug log</Text>
            <Space />
            <Button type="link" value="vrcutil.openLog">Open log</Button>
        </Horizontal>
    </Box> -->
    <Expender>
        <Header>
            <Horizontal>
                <Text> License</Text>
                <Space />
                <Text type="description">{vrcutil.version}</Text>
                <!-- <Text type="link" url="https://github.com/Haruna5718/VRCUtil/blob/master/LICENSE">Apache License 2.0</Text> -->
            </Horizontal>
        </Header>
        <Content>
            <Horizontal>
                <Image source="{system.icon}" height="30px"/>
                <Vertical gap="0" align="left" margin="0 6px">
                    <Text>VRCUtil</Text>
                    <Text type="description">ⓒ 2025. Haruna5718 All rights reserved.</Text>
                </Vertical>
                <Space />
                <Button type="link" url="https://haruna5718.booth.pm/items/6516021">Booth</Button>
                <Button type="link" url="https://github.com/Haruna5718/VRCUtil">Github</Button>
            </Horizontal>
        </Content>
        <Content>
            <Horizontal>
                <Text type="description" url="https://www.python.org/">Python </Text>
                <Text type="description"></Text>
                <Text type="description" url="https://github.com/pyinstaller/pyinstaller">PyInstaller </Text>
                <Text type="description"></Text>
                <Text type="description" url="https://pywebview.flowrl.com/">pywebview </Text>
                <Text type="description"></Text>
                <Text type="description" url="https://github.com/moses-palmer/pystray">pystray </Text>
                <Text type="description"></Text>
                <Text type="description" url="https://customtkinter.tomschimansky.com/">CustomTkinter </Text>
            </Horizontal>
        </Content>
    </Expender>
</Page>